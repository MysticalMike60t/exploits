import React, { useState, useEffect } from "react";
import { Link } from "react-router-dom";

const Header = () => {
  const [isNavOpen, setNavOpen] = useState(false);

  const toggleNav = () => {
    setNavOpen(!isNavOpen);
  };

  useEffect(() => {
    const closeMobileNav = (event) => {
      if (isNavOpen && !event.target.closest(".nav-links-mobile")) {
        setNavOpen(false);
      }
    };

    setTimeout(() => {
      if (isNavOpen) {
        window.addEventListener("click", closeMobileNav);
      }
    }, 1);

    return () => {
      window.removeEventListener("click", closeMobileNav);
    };
  }, [isNavOpen]);

  return (
    <nav role="navigation">
      <header className="header" id="header">
        <Link className="logo" to="/" title="CTECS Logo">
          <img src="" alt="Logo" title="Logo Image" loading="lazy" />
        </Link>
        <div
          className={`nav-toggle ${isNavOpen ? "open" : ""}`}
          onClick={toggleNav}
          title="Open Navigation Menu"
        >
          <div className="bar"></div>
          <div className="bar"></div>
          <div className="bar"></div>
        </div>
        <ul className={`nav-links`}>
          <li className="Link wrapper">
            <Link to="/" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
        </ul>
        <ul className={`nav-links-mobile ${isNavOpen ? "open" : ""}`} lang="en">
          <li className="Link wrapper">
            <Link to="/" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
          <li className="Link wrapper">
            <Link to="/%_Placeholder" lang="en" title="%_Placeholder">
              %_Placeholder
            </Link>
          </li>
        </ul>
      </header>
    </nav>
  );
};

export default Header;
